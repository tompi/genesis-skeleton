{"ts":1360787401066,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"module.exports = (grunt)->\n\n  ###\n  # Configuration\n  ###\n\n  grunt.config.init\n\n    ###\n    # Constants\n    ###\n\n    dirs:\n      client:       __dirname + '/src/client/'\n      components:   __dirname + '/components/'\n      server:       __dirname + '/src/server/'\n      public:       __dirname + '/src/public/'\n      dist:         __dirname + '/dist/'\n\n    files:\n      all:          '**/*'\n      img:          '**/*.{png,gif,jpg,jpeg}'\n      js:           '**/*.js'\n      less:         '**/*.less'\n      html:         '**/*.html'\n\n    ###\n    # Tasks\n    ###\n\n    clean:\n      dist:         '<%= dirs.dist %>'\n\n\n    watch:\n      app:\n        files:      '<%= dirs.client + files.js %>'\n        tasks:      [ 'jshint', 'concat', 'livereload' ]\n\n      partials:\n        files:      '<%= dirs.client + files.html %>'\n        tasks:      [ 'copy:partials', 'ngtemplates', 'concat', 'livereload' ]\n\n      server:\n        files:      '<%= dirs.server + files.all %>'\n        tasks:      [ 'jshint', 'express-server', 'livereload' ]\n\n      less:\n        files:      '<%= dirs.client + files.less %>'\n        tasks:      [ 'less' ]\n\n      public:\n        files:      '<%= dirs.public + files.all %>'\n        tasks:      [ 'copy:public' ]\n\n\n    jshint:\n      files:        [ '<%= dirs.server + files.js %>'\n                      '<%= dirs.client %>/app/<%= files.js %>' ]\n      options:\n        es5:        true\n        laxcomma:   true\n\n\n    less:\n      app:\n        src:        '<%= dirs.client %>/app/less/app.less'\n        dest:       '<%= dirs.dist %>/css/app.css'\n\n\n    copy:\n      images:\n        files:      [\n          expand:   true,\n          cwd:      '<%= dirs.components %>/bootstrap/img'\n          src:      '<%= files.img %>'\n          dest:     '<%= dirs.dist %>/img'\n        ,\n          expand:   true\n          cwd:      '<%= dirs.client %>/app'\n          src:      '<%= files.img %>'\n          dest:     '<%= dirs.dist %>'\n        ]\n\n      partials:\n        files:      [\n          expand:   true,\n          cwd:      '<%= dirs.client %>'\n          src:      '<%= files.html %>'\n          dest:     '<%= dirs.dist %>'\n        ]\n\n      components:\n        files:      [\n          expand:   true\n          cwd:      '<%= dirs.components %>'\n          src:      '<%= files.all %>'\n          dest:     '<%= dirs.dist %>/components'\n        ]\n\n      public:\n        files:      [\n          expand:   true\n          cwd:      '<%= dirs.public %>'\n          src:      '<%= files.all %>'\n          dest:     '<%= dirs.dist %>'\n        ]\n\n\n    ngtemplates:\n      app:\n        src:        '<%= dirs.client + files.html %>'\n        dest:       '<%= dirs.dist %>/js/app.templates.js'\n        options:\n          base:     '<%= dirs.client %>'\n\n\n    concat:\n      app:\n        src:        [ '<%= dirs.client + files.js %>'\n                      '<%= ngtemplates.app.dest %>' ]\n        dest:       '<%= dirs.dist %>/js/app.js'\n\n\n    mincss:\n      app:\n        files:\n          '<%= less.app.dest.replace(\".css\", \".min.css\") %>':\n            '<%= less.app.dest %>'\n\n\n    uglify:\n      app:\n        files:\n          '<%= concat.app.dest.replace(\".js\", \".min.js\") %>':\n            '<%= concat.app.dest %>'\n\n\n    useminPrepare:\n      html:         '<%= dirs.dist %>/index.html'\n\n\n    usemin:\n      html:         '<%= dirs.dist %>/index.html'\n\n    livereload:\n      files:        [ '<%= dirs.dist %>/!(components)*'\n                      '<%= dirs.dist %>/!(components)/**.*' ]\n      options:\n        base:       '<%= dirs.dist %>'\n\n    server:\n      script:       '<%= dirs.server %>/server.js'\n      port:         process.env.PORT || 3000\n\n\n  ###\n  # Dependencies\n  ###\n\n  grunt.loadTasks('tasks')\n  grunt.loadNpmTasks('grunt-angular-templates')\n  grunt.loadNpmTasks('grunt-contrib-clean')\n  grunt.loadNpmTasks('grunt-contrib-concat')\n  grunt.loadNpmTasks('grunt-contrib-copy')\n  grunt.loadNpmTasks('grunt-contrib-jshint')\n  grunt.loadNpmTasks('grunt-contrib-less')\n  grunt.loadNpmTasks('grunt-contrib-mincss')\n  grunt.loadNpmTasks('grunt-contrib-uglify')\n  grunt.loadNpmTasks('grunt-contrib-watch')\n  grunt.loadNpmTasks('grunt-livereload')\n  grunt.loadNpmTasks('grunt-usemin')\n\n\n  ###\n  # Alias Tasks\n  #\n  # - `grunt server` for local development\n  # - `grunt build` when deploying\n  ###\n\n  grunt.registerTask('default',   [ 'validate', 'prepare' ])\n  grunt.registerTask('server',    [ 'clean', 'default', 'express' ])\n  grunt.registerTask('build',     [ 'clean', 'prepare', 'optimize' ])\n  grunt.registerTask('validate',  [ 'jshint' ])\n  grunt.registerTask('prepare',   [ 'less', 'ngtemplates', 'concat', 'copy' ])\n  grunt.registerTask('express',   [ 'express-server', 'livereload', 'watch' ])\n  grunt.registerTask('optimize',  [ 'useminPrepare', 'concat', 'uglify', 'mincss', 'usemin' ])\n"]],"start1":0,"start2":0,"length1":0,"length2":4786}]],"length":4786}
